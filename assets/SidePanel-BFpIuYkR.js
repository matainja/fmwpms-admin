import{j as s,c as j,as as f,at as x,h as D,au as _,av as O,aw as F,r as g,u as y,ax as S,aa as m,ae as H,a4 as $,ar as v}from"./index-Df7F332m.js";import{d as h,a as w}from"./defaultErrorMessage.constant-Bll1G2ZT.js";const q=c=>{const i=o=>{const{className:u,hoverable:d=!0}=o;return s.jsx(c,{...o,className:j("header-action-item",d&&"header-action-item-hoverable",u)})};return i.displayName=`withHeaderItem(${c.displayName||c.name||"Component"})`,i};async function T(){return f.fetchData({url:`${x}/api/admin/previous_year`,method:"get"})}async function A(){return f.fetchData({url:`${x}/api/admin/previous_year`,method:"post"})}async function G(){return f.fetchData({url:`${x}/api/admin/current_year`,method:"get"})}async function I(){return f.fetchData({url:`${x}/api/admin/current_year`,method:"post"})}async function U(){return f.fetchData({url:`${x}/api/admin/quater_settings`,method:"get"})}async function R(){return f.fetchData({url:`${x}/api/admin/quater_settings`,method:"post"})}function V(){const c=D(),i=async()=>{var r,t;try{const a=await T();return a.status===200?(c(O(a.data.data)),{status:"success",message:a.data.message}):{status:"warning",message:a.data.message}}catch(a){return console.error("Error fetching previous year show details:",a),{status:"danger",message:((t=(r=a==null?void 0:a.response)==null?void 0:r.data)==null?void 0:t.message)||a.toString()}}},o=async()=>{var r,t;try{const a=await A();return a.status===200?(await i(),{status:"success",message:a.data.message}):{status:"warning",message:a.data.message}}catch(a){return console.error("Error update previous year show details:",a),{status:"danger",message:((t=(r=a==null?void 0:a.response)==null?void 0:r.data)==null?void 0:t.message)||a.toString()}}},u=async()=>{var r,t;try{const a=await G();return a.status===200?(c(F(a.data.data)),{status:"success",message:a.data.message}):{status:"warning",message:a.data.message}}catch(a){return console.error("Error fetching current year show details:",a),{status:"danger",message:((t=(r=a==null?void 0:a.response)==null?void 0:r.data)==null?void 0:t.message)||a.toString()}}},d=async()=>{var r,t;try{const a=await I();return a.status===200?(await u(),{status:"success",message:a.data.message}):{status:"warning",message:a.data.message}}catch(a){return console.error("Error update Current year show details:",a),{status:"danger",message:((t=(r=a==null?void 0:a.response)==null?void 0:r.data)==null?void 0:t.message)||a.toString()}}},l=async()=>{var r,t;try{const a=await U();return a.status===200?(c(_(a.data.data)),{status:"success",message:a.data.message}):{status:"warning",message:a.data.message}}catch(a){return console.error("Error fetching current year show details:",a),{status:"danger",message:((t=(r=a==null?void 0:a.response)==null?void 0:r.data)==null?void 0:t.message)||a.toString()}}};return{getShowCurrentYear:u,updateShowCurrentYear:d,getShowPreviousYear:i,updateShowPreviousYear:o,getShowQuaterData:l,updateShowQuaterData:async()=>{var r,t;try{const a=await R();return a.status===200?(await l(),{status:"success",message:a.data.message}):{status:"warning",message:a.data.message}}catch(a){return console.error("Error update Current year show details:",a),{status:"danger",message:((t=(r=a==null?void 0:a.response)==null?void 0:r.data)==null?void 0:t.message)||a.toString()}}}}}const B=c=>{const[i,o]=g.useState(!1),[u,d]=g.useState(!1),[l,p]=g.useState(!1),r=y(n=>n.previousYear),t=y(n=>n.currentYear),a=y(n=>n.quaterData),{getShowPreviousYear:N,updateShowPreviousYear:Y,updateShowCurrentYear:C,getShowCurrentYear:b,getShowQuaterData:E,updateShowQuaterData:P}=V();g.useEffect(()=>{(async()=>{const e=await N();(e==null?void 0:e.status)!=="success"&&m((e==null?void 0:e.status)||w,(e==null?void 0:e.message)||h)})()},[]),g.useEffect(()=>{(async()=>{const e=await b();(e==null?void 0:e.status)!=="success"&&m((e==null?void 0:e.status)||w,(e==null?void 0:e.message)||h)})()},[]),g.useEffect(()=>{(async()=>{const e=await E();(e==null?void 0:e.status)!=="success"&&m((e==null?void 0:e.status)||w,(e==null?void 0:e.message)||h)})()},[]);const Q=async n=>{o(!0);const e=await Y();m((e==null?void 0:e.status)||w,(e==null?void 0:e.message)||h),o(!1)},L=async n=>{d(!0);const e=await C();m((e==null?void 0:e.status)||w,(e==null?void 0:e.message)||h),d(!1)},k=async n=>{p(!0);const e=await P();m((e==null?void 0:e.status)||w,(e==null?void 0:e.message)||h),p(!1)};return console.log(a),s.jsxs("div",{className:"flex flex-col gap-5 w-full max-w-md p-4 bg-white rounded-lg shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Previous Year Data"}),s.jsxs("span",{className:"text-xs text-gray-500 mt-1",children:[r.show?"Visible":"Hidden"," - Compare with last year's performance with ON/OFF"]})]}),s.jsx(S,{checked:r.show,onChange:Q,isLoading:i})]}),s.jsx("div",{className:"border-t border-gray-100"}),s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Current Year Data"}),s.jsxs("span",{className:"text-xs text-gray-500 mt-1",children:[t.show?"Visible":"Hidden"," - Track this year's progress with just ON/OFF"]})]}),s.jsx(S,{checked:t.show,onChange:L,isLoading:u})]}),s.jsx("div",{className:"border-t border-gray-100"}),s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Quater data"}),s.jsxs("span",{className:"text-xs text-gray-500 mt-1",children:[a.show?"Visible":"Hidden"," - This Quater Data Enabler with just ON/OFF"]})]}),s.jsx(S,{checked:a.show,onChange:k,isLoading:l})]}),s.jsx("div",{className:"mt-2 text-xs text-gray-400",children:"Toggle switches to customize your dashboard view. Displaying both years enables comparison mode. Giving access to the users."})]})},z=c=>{const i=D(),{className:o,...u}=c,d=y(t=>t.theme.panelExpand),l=y(t=>t.theme.direction),p=()=>{i(v(!0))},r=()=>{i(v(!1));const t=document.body.classList;t.contains("drawer-lock-scroll")&&t.remove("drawer-lock-scroll","drawer-open")};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:j("text-2xl",o),onClick:p,...u,children:s.jsx(H,{})}),s.jsx($,{title:"Quick Settings",isOpen:d,placement:l==="rtl"?"left":"right",width:375,onClose:r,onRequestClose:r,children:s.jsx(B,{callBackClose:r})})]})},J=q(z);export{J as S,q as w};
