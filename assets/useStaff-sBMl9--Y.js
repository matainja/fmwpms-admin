import{as as i,at as c,h as A,u as p,r as v,c9 as b,ca as C,cb as T,cc as U,cd as G,ce as k,cf as x,cg as P}from"./index-CU4jOGQJ.js";async function D(r){return await i.fetchData({url:`${c}/api/admin/staff/${r}`,method:"get"})}async function R(r){return await i.fetchData({url:`${c}/api/admin/evidences/${r}`,method:"get"})}async function N(r){return await i.fetchData({url:`${c}/api/evidences/media/${r}`,method:"get"})}async function Y(r,d){return await i.fetchData({url:`${c}/api/admin/get_role_teamId_departmentId/${r}/${d}`,method:"get"})}async function L(){return await i.fetchData({url:`${c}/api/admin/staff`,method:"get"})}async function j(r){return await i.fetchData({url:`${c}/api/admin/staff`,method:"post",data:r})}async function q(r){return await i.fetchData({url:`${c}/api/admin/bulkuser`,method:"post",headers:{"Content-Type":"multipart/form-data"},data:r})}async function z(r){return await i.fetchData({url:`${c}/api/admin/evidences`,method:"post",headers:{"Content-Type":"multipart/form-data"},data:r})}async function H(r){return await i.fetchData({url:`${c}/api/admin/delete_evidence_according_staff_ids`,method:"post",data:r})}async function J(r){return await i.fetchData({url:`${c}/api/admin/evidences/${r}`,method:"delete"})}async function K(r){return await i.fetchData({url:`${c}/api/admin/staff/${r.staff_id}`,method:"put",data:r})}async function Q(r){return await i.fetchData({url:`${c}/api/admin/update_user_active_status/${r}`,method:"post"})}async function V(r){return await i.fetchData({url:`${c}/api/admin/upload_and_update_image/${r.staffId}`,method:"post",headers:{"Content-Type":"multipart/form-data"},data:r})}async function W(r){return await i.fetchData({url:`${c}/api/admin/user/release`,method:"post",data:r})}async function X(){return await i.fetchData({url:`${c}/api/admin/fetch_user`,method:"get"})}async function Z(r){return await i.fetchData({url:`${c}/api/admin/accept_fetch_user`,method:"post",data:r})}async function M(){return await i.fetchData({url:`${c}/api/download_user_excel`,method:"get",responseType:"blob"})}async function aa(r){return await i.fetchData({url:`${c}/api/admin/change_password`,method:"post",data:r})}async function ta(r){return await i.fetchData({url:`${c}/api/admin/change_email_id`,method:"post",data:r})}async function sa(r){return await i.fetchData({url:`${c}/api/admin/change_ippis_no`,method:"post",data:r})}function va(){const r=A(),d=p(e=>e.year.selectedYear),I=p(e=>e.staffOption),_=p(e=>e.staffEvidenceOption),g=v.useRef(!0),m=v.useRef(!0),$=async()=>await L(),l=async e=>{if(g.current&&I.length===0)return await o();const s=(e==null?void 0:e.map(({staff_id:t,name:a,img:f})=>({staff_id:t,staff_img:f,value:a,label:a,isDisabled:!1})))||[];return r(x(s)),{status:"success",message:"Staff option create successfully"}},S=async e=>{if(m.current&&_.length===0)return await o();const s=(e==null?void 0:e.filter(({evidence:t})=>t===!0).map(({staff_id:t,name:a,img:f})=>({staff_id:t,staff_img:f,value:a,label:a,isDisabled:!1})))||[];return r(k(s)),{status:"success",message:"Staff option create successfully"}},o=async()=>{var e,s;try{const t=await $();if(t.status===200){const a=t.data;return r(P(a)),g.current&&(g.current=!1,await l(a)),m.current&&(m.current=!1,await S(a)),{status:"success",message:"Staff data get successfully"}}return{status:"warning",message:"Error in fetching staff data"}}catch(t){return console.error("Error fetching staff list:",t),{status:"danger",message:((s=(e=t==null?void 0:t.response)==null?void 0:e.data)==null?void 0:s.message)||t.toString()}}},y=async e=>{var s,t;try{const a=await D(e);if(a.status===200){const f=[a.data.data];return r(G(f)),{status:"success",message:"Staff data get successfully"}}return{status:"warning",message:"Error in fetching staff data"}}catch(a){return console.error("Error fetching staff data:",a),{status:"danger",message:((t=(s=a==null?void 0:a.response)==null?void 0:s.data)==null?void 0:t.message)||a.toString()}}},B=async e=>{var s,t;try{const a=await D(e);return a.status===200?{status:"success",message:"Staff data get successfully",data:[a.data.data]}:{status:"warning",message:"Error in fetching staff data"}}catch(a){return console.error("Error fetching staff data:",a),{status:"danger",message:((t=(s=a==null?void 0:a.response)==null?void 0:s.data)==null?void 0:t.message)||a.toString()}}},u=async e=>{var s,t;try{const a=await R(e);if(a.status===200){const f=a.data.data;return r(U(f)),await o(),{status:"success",message:"Staff Evidance data get successfully"}}return{status:"warning",message:"Error in fetching staff Evidance data"}}catch(a){return console.error("Error fetching staff evidance data:",a),{status:"danger",message:((t=(s=a==null?void 0:a.response)==null?void 0:s.data)==null?void 0:t.message)||a.toString()}}};return{getStaff:o,createStaffOption:l,createStaffOptionForEvidance:S,getStaffById:y,getStaffByIdForTemporaly:B,getStaffEvidanceById:u,getStaffEvidanceFileByIdTemporary:async e=>{var s,t;try{const a=await N(e);return a.status===200?{status:"success",message:"Staff Evidance File data get successfully",data:a.data}:{status:"warning",message:"Error in fetching staff Evidance File data"}}catch(a){return console.error("Error fetching staff evidance File data:",a),{status:"danger",message:((t=(s=a==null?void 0:a.response)==null?void 0:s.data)==null?void 0:t.message)||a.toString()}}},getStaffFormById:async e=>{var s,t;try{const a=await Y(e,String(d));if(a.status===200){const f=a.data.data;return r(T(f)),{status:"success",message:"Staff Form data get successfully"}}return{status:"warning",message:"Error in fetching staff Form data"}}catch(a){return console.error("Error fetching staff Form data:",a),{status:"danger",message:((t=(s=a==null?void 0:a.response)==null?void 0:s.data)==null?void 0:t.message)||a.toString()}}},addStaffEvidanceById:async e=>{var s,t;try{return(await z(e)).status===201?(await u(e.staff_id),{status:"success",message:"Staff Evidance data get successfully"}):{status:"warning",message:"Error in fetching staff Evidance data"}}catch(a){return console.error("Error fetching staff evidance data:",a),a.status===422?{status:"warning",message:a.response.data.message}:{status:"danger",message:((t=(s=a==null?void 0:a.response)==null?void 0:s.data)==null?void 0:t.message)||a.toString()}}},deleteStaffEvidanceById:async e=>{var s,t;try{return(await H(e)).status===200?(e.currentStaffId&&e.currentStaffId!==null&&await u(e.currentStaffId),await o(),{status:"success",message:"Staff Evidance data delete successfully"}):{status:"warning",message:"Error in delete staff Evidance data"}}catch(a){return console.error("Error delete staff evidance data:",a),a.status===422?{status:"warning",message:a.response.data.message}:{status:"danger",message:((t=(s=a==null?void 0:a.response)==null?void 0:s.data)==null?void 0:t.message)||a.toString()}}},deleteStaffEvidanceByEvidanceId:async e=>{var s,t;try{return(await J(e.evidanceId)).status===200?(await u(e.staff_id),{status:"success",message:"Staff Evidance data delete successfully"}):{status:"warning",message:"Error in delete staff Evidance data"}}catch(a){return console.error("Error delete staff evidance data:",a),a.status===422?{status:"warning",message:a.response.data.message}:{status:"danger",message:((t=(s=a==null?void 0:a.response)==null?void 0:s.data)==null?void 0:t.message)||a.toString()}}},addStaff:async e=>{var s,t,a,f;try{const n=await j(e);return n.status===201?(await o(),{status:"success",message:n.data.message,data:{staff_id:n.data.staff_id,role:n.data.role}}):{status:"warning",message:n.data.message}}catch(n){return console.error("Error add staff details:",n),n.status===422?{status:"warning",message:((t=(s=n==null?void 0:n.response)==null?void 0:s.data)==null?void 0:t.message)||n.toString()}:{status:"danger",message:((f=(a=n==null?void 0:n.response)==null?void 0:a.data)==null?void 0:f.message)||n.toString()}}},addBulkStaff:async e=>{var s,t,a,f;try{const n=await q(e);return n.status===201?(await o(),{status:"success",message:n.data.message}):{status:"warning",message:n.data.message}}catch(n){return console.error("Error add staff details:",n),n.status===422?{status:"warning",message:((t=(s=n==null?void 0:n.response)==null?void 0:s.data)==null?void 0:t.message)||n.toString()}:{status:"danger",message:((f=(a=n==null?void 0:n.response)==null?void 0:a.data)==null?void 0:f.message)||n.toString()}}},editStaff:async e=>{var s,t,a,f;try{const n=await K(e);return n.status===200?(await o(),{status:"success",message:n.data.message}):{status:"warning",message:n.data.message}}catch(n){return console.error("Error edit staff details:",n),n.status===422?{status:"warning",message:((t=(s=n==null?void 0:n.response)==null?void 0:s.data)==null?void 0:t.message)||n.toString()}:{status:"danger",message:((f=(a=n==null?void 0:n.response)==null?void 0:a.data)==null?void 0:f.message)||n.toString()}}},editStaffActive:async e=>{var s,t;try{const a=await Q(e);if(a.status===200){const f={staff_id:e,is_active:a.data.status};return r(C(f)),{status:"success",message:a.data.message}}return{status:"warning",message:a.data.message}}catch(a){return console.error("Error edit staff details:",a),a.status===422?{status:"warning",message:a.response.data.message}:{status:"danger",message:((t=(s=a==null?void 0:a.response)==null?void 0:s.data)==null?void 0:t.message)||a.toString()}}},uploadStaffImage:async e=>{var s,t;try{const a=await V(e);return a.status===200?(await o(),await y(e.staffId),{status:"success",message:a.data.message}):{status:"warning",message:a.data.message}}catch(a){return console.error("Error edit staff details:",a),a.status===422?{status:"warning",message:a.response.data.message}:{status:"danger",message:((t=(s=a==null?void 0:a.response)==null?void 0:s.data)==null?void 0:t.message)||a.toString()}}},transferStaff:async e=>{var s,t;try{const a=await W(e);return a.status===200?(await o(),{status:"success",message:a.data.message}):{status:"warning",message:a.data.message}}catch(a){return console.error("Error edit staff details:",a),a.status===422?{status:"warning",message:a.response.data.message}:{status:"danger",message:((t=(s=a==null?void 0:a.response)==null?void 0:s.data)==null?void 0:t.message)||a.toString()}}},getFreeStaff:async()=>{var e,s;try{const t=await X();if(t.status===200){const a=t.data.data,f=a.map(({staff_id:F,F_name:w,L_name:h,M_name:E,img:O})=>({staff_id:F,staff_img:O,value:w+" "+E+" "+h,label:w+" "+E+" "+h,isDisabled:!1}))||[];return r(b({freeStaffList:a,freeStaffOption:f})),{status:"success",message:"Staff data get successfully"}}return{status:"warning",message:"Error in fetching staff data"}}catch(t){return console.error("Error fetching free staff list:",t),{status:"danger",message:((s=(e=t==null?void 0:t.response)==null?void 0:e.data)==null?void 0:s.message)||t.toString()}}},acceptFetchStaff:async e=>{var s,t;try{const a=await Z(e);return a.status===200?{status:"success",message:a.data.message}:{status:"warning",message:a.data.message}}catch(a){return console.error("Error edit staff details:",a),a.status===422?{status:"warning",message:a.response.data.message}:{status:"danger",message:((t=(s=a==null?void 0:a.response)==null?void 0:s.data)==null?void 0:t.message)||a.toString()}}},getStaffDowloadlist:async()=>{var e,s;try{const t=await M();return console.log(t),t.status===200?{status:"success",message:t.data.message,data:t.data}:{status:"warning",message:t.data.message}}catch(t){return console.error("Error Download failed user list",t),t.status===422?{status:"warning",message:t.response.data.message}:{status:"danger",message:((s=(e=t==null?void 0:t.response)==null?void 0:e.data)==null?void 0:s.message)||t.toString()}}},updateStaffPasword:async e=>{var s,t;try{const a=await aa(e);return console.log(a),a.status===200?{status:"success",message:a.data.message}:{status:"warning",message:a.data.message}}catch(a){return console.error("Error password not changed",a),a.status===422?{status:"warning",message:a.response.data.message}:{status:"danger",message:((t=(s=a==null?void 0:a.response)==null?void 0:s.data)==null?void 0:t.message)||a.toString()}}},updateStaffIppisNo:async e=>{var s,t;try{const a=await sa(e);return console.log(a),a.status===200?{status:"success",message:a.data.message}:{status:"warning",message:a.data.message}}catch(a){return console.error("Error password not changed",a),a.status===422?{status:"warning",message:a.response.data.message}:{status:"danger",message:((t=(s=a==null?void 0:a.response)==null?void 0:s.data)==null?void 0:t.message)||a.toString()}}},updateStaffEmailId:async e=>{var s,t;try{const a=await ta(e);return console.log(a),a.status===200?{status:"success",message:a.data.message}:{status:"warning",message:a.data.message}}catch(a){return console.error("Error password not changed",a),a.status===422?{status:"warning",message:a.response.data.message}:{status:"danger",message:((t=(s=a==null?void 0:a.response)==null?void 0:s.data)==null?void 0:t.message)||a.toString()}}}}}export{va as u};
