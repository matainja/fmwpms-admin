import{r as t,bb as f,j as e,aT as j,bj as b,bk as u,bl as x,bm as a,bn as y,bo as n}from"./index-ee-rpyvk.js";import"./SvgIcon-BlKG39wW.js";import"./Views-BzQvzvuQ.js";import{g as N}from"./DashboardMenuListItems-CPBhaBCu.js";import"./cloneDeep-DJN0yfLA.js";import"./useThemeClass-UxcTtql9.js";function S(){const[i,m]=t.useState([]),[h,l]=t.useState(!1),[o,d]=t.useState(null),g=f(),p=s=>{g(`/user/${s}`)},c=async()=>{var s;try{l(!0),d(null);const r=await N();m(((s=r==null?void 0:r.data)==null?void 0:s.users)||[])}catch(r){d(r.message||"Failed to fetch data")}finally{l(!1)}};return t.useEffect(()=>{c()},[]),h?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx(j,{loading:!0})}):o?e.jsx("div",{className:"mx-auto p-6 max-w-4xl",children:e.jsxs("div",{className:"bg-red-50 p-4 rounded-lg border border-red-200 text-red-700",children:["Error: ",o]})}):e.jsxs("div",{children:[e.jsxs("div",{className:"mb-8 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Bottom 30 Employees"}),e.jsx("p",{className:"text-gray-600",children:"Employees needing performance improvement"})]}),e.jsx("button",{onClick:c,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:"Refresh"})]}),i&&i.length>0?e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(b,{className:"w-full",children:[e.jsx(u,{className:"bg-gradient-to-r from-green-50 to-green-50",children:e.jsxs(x,{children:[e.jsx(a,{className:"px-6 py-4",children:"Rank"}),e.jsx(a,{className:"px-6 py-4",children:"Staff ID"}),e.jsx(a,{className:"px-6 py-4",children:"Employee Name"}),e.jsx(a,{className:"px-6 py-4 text-right",children:"Actions"})]})}),e.jsx(y,{className:"divide-y divide-gray-100",children:i.map((s,r)=>e.jsxs(x,{className:"hover:bg-green-50/50",children:[e.jsx(n,{className:"px-6 py-4",children:r+1}),e.jsx(n,{className:"px-6 py-4 text-green-700 font-mono",children:s.staff_id}),e.jsx(n,{className:"px-6 py-4",children:s.name}),e.jsx(n,{className:"px-6 py-4 text-right",children:e.jsx("button",{onClick:()=>p(s.staff_id),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors inline-flex items-center",children:"View"})})]},s.staff_id))})]})})}):e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8 text-center",children:"No employees found"})]})}export{S as default};
