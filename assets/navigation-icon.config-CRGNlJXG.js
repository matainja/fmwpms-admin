const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./index-VFa0Mlks.js","./VerticalMenuContent-DIg0Vv71.js","./index-BbChCMLv.js","./index-CFaVsqX4.css","./useNavigation-FHwnf29N.js","./SidePanel-ngmIslN5.js","./defaultErrorMessage.constant-Bll1G2ZT.js","./useResponsive-CDH0548z.js","./Header-CZ70-YN2.js","./Views-Ds5w6ynk.js"])))=>i.map(i=>d[i]);
import{r as p,E as Z,F as ee,j as e,c as O,q as ae,G as se,I as te,J as g,U as f,K as M,O as ne,Q as re,R as ie,V as oe,W as le,X as ce,Y as pe,Z as ue,_ as de,$ as me,a0 as he,a1 as ge,a2 as fe,a3 as I,P,u as x,a4 as ye,w as xe,a5 as ve,N as Ne,o as Te,h as G,a6 as U,a7 as je,a8 as Ee,a9 as W,aa as Ae,ab as Me,ac as Se,A as B,D as A,L as be,ad as we,ae as _e,af as Ce,ag as Ie,ah as Oe,ai as De,aj as Pe,ak as Re,al as ke,am as He,an as Le,ao as $e,ap as Ke,aq as Ye}from"./index-BbChCMLv.js";import{w as X}from"./SidePanel-ngmIslN5.js";import{N as y,b as D,a as q,u as Fe,c as Ue}from"./useNavigation-FHwnf29N.js";import{u as Be}from"./useResponsive-CDH0548z.js";import{H as ze}from"./Header-CZ70-YN2.js";import{u as Ve}from"./Views-Ds5w6ynk.js";const Ge=(a,s,t,i)=>{var n,r,v,h;const o=[t,{code:s,...i||{}}];if((r=(n=a==null?void 0:a.services)==null?void 0:n.logger)!=null&&r.forward)return a.services.logger.forward(o,"warn","react-i18next::",!0);S(o[0])&&(o[0]=`react-i18next:: ${o[0]}`),(h=(v=a==null?void 0:a.services)==null?void 0:v.logger)!=null&&h.warn?a.services.logger.warn(...o):console!=null&&console.warn&&console.warn(...o)},z={},R=(a,s,t,i)=>{S(t)&&z[t]||(S(t)&&(z[t]=new Date),Ge(a,s,t,i))},J=(a,s)=>()=>{if(a.isInitialized)s();else{const t=()=>{setTimeout(()=>{a.off("initialized",t)},0),s()};a.on("initialized",t)}},k=(a,s,t)=>{a.loadNamespaces(s,J(a,t))},V=(a,s,t,i)=>{if(S(t)&&(t=[t]),a.options.preload&&a.options.preload.indexOf(s)>-1)return k(a,t,i);t.forEach(o=>{a.options.ns.indexOf(o)<0&&a.options.ns.push(o)}),a.loadLanguages(s,J(a,i))},We=(a,s,t={})=>!s.languages||!s.languages.length?(R(s,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:s.languages}),!0):s.hasLoadedNamespace(a,{lng:t.lng,precheck:(i,o)=>{var n;if(((n=t.bindI18n)==null?void 0:n.indexOf("languageChanging"))>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!o(i.isLanguageChangingTo,a))return!1}}),S=a=>typeof a=="string",Xe=a=>typeof a=="object"&&a!==null,qe=p.createContext();class Je{constructor(){this.usedNamespaces={}}addUsedNamespaces(s){s.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const Qe=(a,s)=>{const t=p.useRef();return p.useEffect(()=>{t.current=a},[a,s]),t.current},Q=(a,s,t,i)=>a.getFixedT(s,t,i),Ze=(a,s,t,i)=>p.useCallback(Q(a,s,t,i),[a,s,t,i]),ya=(a,s={})=>{var $,K,Y,F;const{i18n:t}=s,{i18n:i,defaultNS:o}=p.useContext(qe)||{},n=t||i||Z();if(n&&!n.reportNamespaces&&(n.reportNamespaces=new Je),!n){R(n,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const d=(T,j)=>S(j)?j:Xe(j)&&S(j.defaultValue)?j.defaultValue:Array.isArray(T)?T[T.length-1]:T,N=[d,{},!1];return N.t=d,N.i18n={},N.ready=!1,N}($=n.options.react)!=null&&$.wait&&R(n,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const r={...ee(),...n.options.react,...s},{useSuspense:v,keyPrefix:h}=r;let l=o||((K=n.options)==null?void 0:K.defaultNS);l=S(l)?[l]:l||["translation"],(F=(Y=n.reportNamespaces).addUsedNamespaces)==null||F.call(Y,l);const m=(n.isInitialized||n.initializedStoreOnce)&&l.every(d=>We(d,n,r)),b=Ze(n,s.lng||null,r.nsMode==="fallback"?l:l[0],h),u=()=>b,c=()=>Q(n,s.lng||null,r.nsMode==="fallback"?l:l[0],h),[H,w]=p.useState(u);let _=l.join();s.lng&&(_=`${s.lng}${_}`);const L=Qe(_),E=p.useRef(!0);p.useEffect(()=>{const{bindI18n:d,bindI18nStore:N}=r;E.current=!0,!m&&!v&&(s.lng?V(n,s.lng,l,()=>{E.current&&w(c)}):k(n,l,()=>{E.current&&w(c)})),m&&L&&L!==_&&E.current&&w(c);const T=()=>{E.current&&w(c)};return d&&(n==null||n.on(d,T)),N&&(n==null||n.store.on(N,T)),()=>{E.current=!1,n&&(d==null||d.split(" ").forEach(j=>n.off(j,T))),N&&n&&N.split(" ").forEach(j=>n.store.off(j,T))}},[n,_]),p.useEffect(()=>{E.current&&m&&w(u)},[n,h,m]);const C=[H,n,m];if(C.t=H,C.i18n=n,C.ready=m,m||!m&&!v)return C;throw new Promise(d=>{s.lng?V(n,s.lng,l,()=>d()):k(n,l,()=>d())})},xa=a=>{const{headerStart:s,headerEnd:t,headerMiddle:i,className:o,container:n}=a;return e.jsx("header",{className:O("header",o),children:e.jsxs("div",{className:O("header-wrapper",ae,n&&"container mx-auto"),children:[e.jsx("div",{className:"header-action header-action-start",children:s}),i&&e.jsx("div",{className:"header-action header-action-middle",children:i}),e.jsx("div",{className:"header-action header-action-end",children:t})]})})},ea=({toggled:a,className:s})=>e.jsx("div",{className:s,children:a?e.jsx(se,{}):e.jsx(te,{})});console.log("Structure verification:",{apps:I("nav.apps"),pms:I("nav.appspms.pms"),dashboard:I("nav.appspms.dashboard"),departmentList:I("nav.appspms.departmentList")});console.log("Navigation Path:",`${M}/dashboard`);const aa=[{key:"apps",path:"",title:"APPS",translateKey:"nav.apps",icon:"apps",type:q,authority:[g,f],subMenu:[{key:"apps.pms",path:"",title:"PMS",translateKey:"nav.appspms.pms",icon:"pms",type:D,authority:[],subMenu:[{key:"pms.dashboard_menu_list",path:`${M}/${ne}`,title:"Dashboard",translateKey:"nav.appspms.dashboard",icon:"",type:y,authority:[g,f],subMenu:[]},{key:"pms.dashboard",path:`${M}/${re}`,title:"Executive Dashboard",translateKey:"nav.appspms.dashboardStats",icon:"",type:y,authority:[g,f],subMenu:[]},{key:"pms.teamList",path:`${M}/${le}/all`,title:"Team",translateKey:"nav.appspms.teamList",icon:"",type:y,authority:[ie,oe],subMenu:[]},{key:"pms.departmentList",path:`${M}/${ue}/all`,title:"Department",translateKey:"nav.appspms.department",icon:"",type:y,authority:[ce,pe],subMenu:[]},{key:"pms.user",path:`${M}/${he}/all`,title:"User",translateKey:"nav.appspms.user",icon:"",type:y,authority:[de,me],subMenu:[]}]},{key:"apps.transferUser",path:`${M}/user/transfer/all`,title:"Transfer",translateKey:"nav.appspms.transferUser",icon:"transfer",type:y,authority:[g,f],subMenu:[]},{key:"apps.mpms",path:"",title:"MPMS",translateKey:"nav.appsMpms.mpms",icon:"mpms",type:D,authority:[g,f],subMenu:[{key:"mpms.listMpms",path:`${ge}`,title:"List MPMS",translateKey:"nav.appsMpms.listMpms",icon:"",type:y,authority:[g,f],subMenu:[]}]},{key:"apps.knowledgeBase",path:"",title:"Knowledge Base",translateKey:"nav.appsKnowledgebase.knowledgeBase",icon:"knowledgeBase",type:D,authority:[g,f],subMenu:[{key:"knowledgeBase.manageArticle",path:`${fe}/article/manage`,title:"Manage Article",translateKey:"nav.appsKnowledgebase.manageArticle",icon:"",type:y,authority:[g,f],subMenu:[]}]}]}],sa=[],ta=[{key:"pages",path:"",title:"Pages",translateKey:"nav.pages.pages",icon:"pages",type:q,authority:[g,f],subMenu:[{key:"pages.messages",path:`${P}/message/inbox/all`,title:"Messages",translateKey:"nav.pages.messages",icon:"messages",type:y,authority:[g,f],subMenu:[]},{key:"pages.profileDetails",path:`${P}/profile/admin`,title:"Profile",translateKey:"nav.pages.profileDetails",icon:"profile",type:y,authority:[g,f],subMenu:[]}]}],na=[...aa,...sa,...ta],ra=p.lazy(()=>ve(()=>import("./index-VFa0Mlks.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9]),import.meta.url)),ia=X(ea),va=()=>{const[a,s]=p.useState(!1),t=()=>{s(!0)},i=()=>{s(!1)},o=x(c=>c.theme.themeColor),n=x(c=>c.theme.primaryColorLevel),r=x(c=>c.theme.navMode),v=x(c=>c.theme.mode),h=x(c=>c.theme.direction),l=x(c=>c.base.common.currentRouteKey),m=x(c=>c.auth.user.authority),{smaller:b}=Be(),u=()=>r===Ne?`bg-${o}-${n} side-nav-${r}`:r===Te?`side-nav-${v}`:`side-nav-${r}`;return e.jsx(e.Fragment,{children:b.md&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-2xl",onClick:t,children:e.jsx(ia,{toggled:a})}),e.jsx(ye,{title:"Navigation",isOpen:a,bodyClass:O(u(),"p-0"),width:330,placement:h===xe?"right":"left",onClose:i,onRequestClose:i,children:e.jsx(p.Suspense,{fallback:e.jsx(e.Fragment,{}),children:a&&e.jsx(ra,{navMode:r,collapsed:!1,navigationTree:na,routeKey:l,userAuthority:m,direction:h,onMenuItemClick:i})})})]})})},oa=a=>{const s=G(),t=x(r=>r.year),{Navigate:i}=Fe();p.useEffect(()=>{const r=sessionStorage.getItem("selectedYear");r&&(sessionStorage.setItem("selectedYear",r),s(U(Number(r))))},[]);const o=()=>{s(W(!1))},n=async r=>{sessionStorage.setItem("selectedYear",String(r.value)),s(U(r.value)),i(Ue),Ae("success",`Successfully switch year to ${r.value}`),o()};return e.jsxs(je,{isOpen:t.yearChangeDialog,bodyOpenClassName:"overflow-hidden",onClose:o,onRequestClose:o,children:[e.jsx(ze,{title:"Change Year",titleTag:"h5"}),e.jsx(Ee,{placeholder:"Please Select",value:t.yearOption.find(r=>r.value===t.selectedYear),options:t.yearOption,onChange:r=>n(r)})]})},la=[{label:"Account Setting",path:`${P}/profile/admin`,icon:e.jsx(_e,{})}],ca=({className:a})=>{const s=G(),{avatar:t,userName:i,role:o,email:n,years:r}=x(u=>u.auth.user),v=x(u=>u.year.selectedYear),{signOut:h}=Me(),l=p.useRef(!0);p.useEffect(()=>{r&&r.length>0&&l.current&&(s(Se(r||[])),l.current=!1)},[r,s]);const m=()=>{s(W(!0))},b=e.jsxs("div",{className:O(a,"flex items-center gap-2"),children:[e.jsx(B,{size:32,shape:"circle",src:t}),e.jsxs("div",{className:"hidden md:block",children:[e.jsx("div",{className:"text-xs capitalize",children:o}),e.jsx("div",{className:"font-bold",children:i})]})]});return e.jsxs("div",{children:[e.jsxs(A,{menuStyle:{minWidth:240},renderTitle:b,placement:"bottom-end",children:[e.jsx(A.Item,{variant:"header",children:e.jsxs("div",{className:"py-2 px-3 flex items-center gap-2",children:[e.jsx(B,{shape:"circle",src:t}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-gray-900 dark:text-gray-100",children:i}),e.jsx("div",{className:"text-xs",children:n}),e.jsx("div",{className:"text-xs w-20 bg-green-800 text-white flex items-center justify-center rounded py-[1px] mt-1",children:o})]})]})}),e.jsx(A.Item,{variant:"divider"}),la.map(u=>e.jsx(A.Item,{eventKey:u.label,className:"mb-1 px-0",children:e.jsx(be,{className:"flex h-full w-full px-2",to:u.path,children:e.jsxs("span",{className:"flex gap-2 items-center w-full",children:[e.jsx("span",{className:"text-xl opacity-50",children:u.icon}),e.jsx("span",{children:u.label})]})})},u.label)),e.jsxs(A.Item,{eventKey:"Switch Year",className:"gap-2",onClick:m,children:[e.jsx("span",{className:"text-xl opacity-50",children:v}),e.jsx("span",{children:"Switch Year"})]}),e.jsx(A.Item,{variant:"divider"}),e.jsxs(A.Item,{eventKey:"Sign Out",className:"gap-2",onClick:h,children:[e.jsx("span",{className:"text-xl opacity-50",children:e.jsx(we,{})}),e.jsx("span",{children:"Sign Out"})]})]}),e.jsx(oa,{})]})},Na=X(ca),Ta=a=>{const{userAuthority:s=[],authority:t=[],children:i}=a,o=Ve(s,t);return e.jsx(e.Fragment,{children:o?i:null})};function pa(a){return Ce({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M19.924 10.383a1 1 0 0 0-.217-1.09l-5-5-1.414 1.414L16.586 9H4v2h15a1 1 0 0 0 .924-.617zM4.076 13.617a1 1 0 0 0 .217 1.09l5 5 1.414-1.414L7.414 15H20v-2H5a.999.999 0 0 0-.924.617z"},child:[]}]})(a)}const ja={apps:e.jsx(Ye,{}),transfer:e.jsx(pa,{}),pms:e.jsx(Ke,{}),mpms:e.jsx($e,{}),systemSettings:e.jsx(Le,{}),knowledgeBase:e.jsx(He,{}),forms:e.jsx(ke,{}),form_appraisal:e.jsx(Re,{}),pages:e.jsx(Pe,{}),Account:e.jsx(De,{}),messages:e.jsx(Oe,{}),profile:e.jsx(Ie,{})};export{Ta as A,xa as H,qe as I,va as M,ea as N,Na as U,ja as a,Ge as b,Xe as c,S as i,na as n,ya as u,R as w};
