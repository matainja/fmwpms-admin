import{aX as se,E as ae,F as ye,r as b,aY as de,aZ as xe,a_ as je,j as i,T as ge,M as B,L as z,D as J,a$ as Z}from"./index-DT1ln_eE.js";import{w as ie,i as L,b as R,c as _,I as Ee,a as be,A as K,u as le}from"./navigation-icon.config-ChGawK_j.js";import{N as ke,b as Ae,a as Ie}from"./useNavigation-BQ2pplMO.js";var W,U;function Ce(){return U||(U=1,W={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),W}var $e=Ce();const Oe=se($e);var Me=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function Q(e){var t={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},n=e.match(/<\/?([^\s]+?)[/\s>]/);if(n&&(t.name=n[1],(Oe[n[1]]||e.charAt(e.length-2)==="/")&&(t.voidElement=!0),t.name.startsWith("!--"))){var r=e.indexOf("-->");return{type:"comment",comment:r!==-1?e.slice(4,r):""}}for(var a=new RegExp(Me),s=null;(s=a.exec(e))!==null;)if(s[0].trim())if(s[1]){var u=s[1].trim(),f=[u,""];u.indexOf("=")>-1&&(f=u.split("=")),t.attrs[f[0]]=f[1],a.lastIndex--}else s[2]&&(t.attrs[s[2]]=s[3].trim().substring(1,s[3].length-1));return t}var Ke=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,Te=/^\s*$/,Pe=Object.create(null);function oe(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?function(n){var r=[];for(var a in n)r.push(a+'="'+n[a]+'"');return r.length?" "+r.join(" "):""}(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(oe,"")+"</"+t.name+">";case"comment":return e+"<!--"+t.comment+"-->"}}var _e={parse:function(e,t){t||(t={}),t.components||(t.components=Pe);var n,r=[],a=[],s=-1,u=!1;if(e.indexOf("<")!==0){var f=e.indexOf("<");r.push({type:"text",content:f===-1?e:e.substring(0,f)})}return e.replace(Ke,function(y,E){if(u){if(y!=="</"+n.name+">")return;u=!1}var h,o=y.charAt(1)!=="/",g=y.startsWith("<!--"),j=E+y.length,l=e.charAt(j);if(g){var C=Q(y);return s<0?(r.push(C),r):((h=a[s]).children.push(C),r)}if(o&&(s++,(n=Q(y)).type==="tag"&&t.components[n.name]&&(n.type="component",u=!0),n.voidElement||u||!l||l==="<"||n.children.push({type:"text",content:e.slice(j,e.indexOf("<",j))}),s===0&&r.push(n),(h=a[s-1])&&h.children.push(n),a[s]=n),(!o||n.voidElement)&&(s>-1&&(n.voidElement||n.name===y.slice(2,-1))&&(s--,n=s===-1?r:a[s]),!u&&l!=="<"&&l)){h=s===-1?r:a[s].children;var p=e.indexOf("<",j),d=e.slice(j,p===-1?void 0:p);Te.test(d)&&(d=" "),(p>-1&&s+h.length>=0||d!==" ")&&h.push({type:"text",content:d})}}),r},stringify:function(e){return e.reduce(function(t,n){return t+oe("",n)},"")}};const Y=(e,t)=>{var r;if(!e)return!1;const n=((r=e.props)==null?void 0:r.children)??e.children;return t?n.length>0:!!n},G=e=>{var n,r;if(!e)return[];const t=((n=e.props)==null?void 0:n.children)??e.children;return(r=e.props)!=null&&r.i18nIsDynamicList?V(t):t},Ve=e=>Array.isArray(e)&&e.every(b.isValidElement),V=e=>Array.isArray(e)?e:[e],we=(e,t)=>{const n={...t};return n.props=Object.assign(e.props,t.props),n},ce=(e,t,n,r)=>{if(!e)return"";let a="";const s=V(e),u=t!=null&&t.transSupportBasicHtmlNodes?t.transKeepBasicHtmlNodesFor??[]:[];return s.forEach((f,y)=>{if(L(f)){a+=`${f}`;return}if(b.isValidElement(f)){const{props:E,type:h}=f,o=Object.keys(E).length,g=u.indexOf(h)>-1,j=E.children;if(!j&&g&&!o){a+=`<${h}/>`;return}if(!j&&(!g||o)||E.i18nIsDynamicList){a+=`<${y}></${y}>`;return}if(g&&o===1&&L(j)){a+=`<${h}>${j}</${h}>`;return}const l=ce(j,t,n,r);a+=`<${y}>${l}</${y}>`;return}if(f===null){R(n,"TRANS_NULL_VALUE","Passed in a null value as child",{i18nKey:r});return}if(_(f)){const{format:E,...h}=f,o=Object.keys(h);if(o.length===1){const g=E?`${o[0]}, ${E}`:o[0];a+=`{{${g}}}`;return}R(n,"TRANS_INVALID_OBJ","Invalid child - Object should only have keys {{ value, format }} (format is optional).",{i18nKey:r,child:f});return}R(n,"TRANS_INVALID_VAR","Passed in a variable like {number} - pass variables for interpolation as full objects like {{number}}.",{i18nKey:r,child:f})}),a},Se=(e,t,n,r,a,s)=>{if(t==="")return[];const u=r.transKeepBasicHtmlNodesFor||[],f=t&&new RegExp(u.map(p=>`<${p}`).join("|")).test(t);if(!e&&!f&&!s)return[t];const y={},E=p=>{V(p).forEach(m=>{L(m)||(Y(m)?E(G(m)):_(m)&&!b.isValidElement(m)&&Object.assign(y,m))})};E(e);const h=_e.parse(`<0>${t}</0>`),o={...y,...a},g=(p,d,m)=>{var x;const I=G(p),M=l(I,d.children,m);return Ve(I)&&M.length===0||(x=p.props)!=null&&x.i18nIsDynamicList?I:M},j=(p,d,m,I,M)=>{p.dummy?(p.children=d,m.push(b.cloneElement(p,{key:I},M?void 0:d))):m.push(...b.Children.map([p],x=>{const c={...x.props};return delete c.i18nIsDynamicList,b.createElement(x.type,{...c,key:I,ref:x.ref},M?null:d)}))},l=(p,d,m)=>{const I=V(p);return V(d).reduce((x,c,O)=>{var N,S;const T=((S=(N=c.children)==null?void 0:N[0])==null?void 0:S.content)&&n.services.interpolator.interpolate(c.children[0].content,o,n.language);if(c.type==="tag"){let $=I[parseInt(c.name,10)];m.length===1&&!$&&($=m[0][c.name]),$||($={});const k=Object.keys(c.attrs).length!==0?we({props:c.attrs},$):$,P=b.isValidElement(k),D=P&&Y(c,!0)&&!c.voidElement,F=f&&_(k)&&k.dummy&&!P,q=_(e)&&Object.hasOwnProperty.call(e,c.name);if(L(k)){const A=n.services.interpolator.interpolate(k,o,n.language);x.push(A)}else if(Y(k)||D){const A=g(k,c,m);j(k,A,x,O)}else if(F){const A=l(I,c.children,m);j(k,A,x,O)}else if(Number.isNaN(parseFloat(c.name)))if(q){const A=g(k,c,m);j(k,A,x,O,c.voidElement)}else if(r.transSupportBasicHtmlNodes&&u.indexOf(c.name)>-1)if(c.voidElement)x.push(b.createElement(c.name,{key:`${c.name}-${O}`}));else{const A=l(I,c.children,m);x.push(b.createElement(c.name,{key:`${c.name}-${O}`},A))}else if(c.voidElement)x.push(`<${c.name} />`);else{const A=l(I,c.children,m);x.push(`<${c.name}>${A}</${c.name}>`)}else if(_(k)&&!P){const A=c.children[0]?T:null;A&&x.push(A)}else j(k,T,x,O,c.children.length!==1||!T)}else if(c.type==="text"){const $=r.transWrapTextNodes,k=s?r.unescape(n.services.interpolator.interpolate(c.content,o,n.language)):n.services.interpolator.interpolate(c.content,o,n.language);$?x.push(b.createElement($,{key:`${c.name}-${O}`},k)):x.push(k)}return x},[])},C=l([{dummy:!0,children:e||[]}],h,V(e||[]));return G(C[0])},ue=(e,t,n)=>{const r=e.key||t,a=b.cloneElement(e,{key:r});if(!a.props||!a.props.children||n.indexOf(`${t}/>`)<0&&n.indexOf(`${t} />`)<0)return a;function s(){return b.createElement(b.Fragment,null,a)}return b.createElement(s,{key:r})},Le=(e,t)=>e.map((n,r)=>ue(n,r,t)),Ne=(e,t)=>{const n={};return Object.keys(e).forEach(r=>{Object.assign(n,{[r]:ue(e[r],r,t)})}),n},De=(e,t,n,r)=>e?Array.isArray(e)?Le(e,t):_(e)?Ne(e,t):(ie(n,"TRANS_INVALID_COMPONENTS",'<Trans /> "components" prop expects an object or array',{i18nKey:r}),null):null;function Fe({children:e,count:t,parent:n,i18nKey:r,context:a,tOptions:s={},values:u,defaults:f,components:y,ns:E,i18n:h,t:o,shouldUnescape:g,...j}){var k,P,D,F,q,A;const l=h||ae();if(!l)return ie(l,"NO_I18NEXT_INSTANCE","Trans: You need to pass in an i18next instance using i18nextReactModule",{i18nKey:r}),e;const C=o||l.t.bind(l)||(he=>he),p={...ye(),...(k=l.options)==null?void 0:k.react};let d=E||C.ns||((P=l.options)==null?void 0:P.defaultNS);d=L(d)?[d]:d||["translation"];const m=ce(e,p,l,r),I=f||m||p.transEmptyNodeValue||r,{hashTransKey:M}=p,x=r||(M?M(m||I):m||I);(F=(D=l.options)==null?void 0:D.interpolation)!=null&&F.defaultVariables&&(u=u&&Object.keys(u).length>0?{...u,...l.options.interpolation.defaultVariables}:{...l.options.interpolation.defaultVariables});const c=u||t!==void 0&&!((A=(q=l.options)==null?void 0:q.interpolation)!=null&&A.alwaysFormat)||!e?s.interpolation:{interpolation:{...s.interpolation,prefix:"#$?",suffix:"?$#"}},O={...s,context:a||s.context,count:t,...u,...c,defaultValue:I,ns:d},T=x?C(x,O):I,N=De(y,T,l,r),S=Se(N||e,T,l,p,O,g),$=n??p.defaultTransParent;return $?b.createElement($,j,S):S}function w({children:e,count:t,parent:n,i18nKey:r,context:a,tOptions:s={},values:u,defaults:f,components:y,ns:E,i18n:h,t:o,shouldUnescape:g,...j}){var m;const{i18n:l,defaultNS:C}=b.useContext(Ee)||{},p=h||l||ae(),d=o||(p==null?void 0:p.t.bind(p));return Fe({children:e,count:t,parent:n,i18nKey:r,context:a,tOptions:s,values:u,defaults:f,components:y,ns:E||(d==null?void 0:d.ns)||C||((m=p==null?void 0:p.options)==null?void 0:m.defaultNS),i18n:p,t:o,shouldUnescape:g,...j})}var X,v;function qe(){if(v)return X;v=1;var e=de(),t=xe(),n=je(),r="[object Object]",a=Function.prototype,s=Object.prototype,u=a.toString,f=s.hasOwnProperty,y=u.call(Object);function E(h){if(!n(h)||e(h)!=r)return!1;var o=t(h);if(o===null)return!0;var g=f.call(o,"constructor")&&o.constructor;return typeof g=="function"&&g instanceof g&&u.call(g)==y}return X=E,X}var Be=qe();const He=se(Be),H=({icon:e,gutter:t})=>typeof e!="string"&&!e?i.jsx(i.Fragment,{}):i.jsx("span",{className:`text-2xl ${t?"ltr:mr-2 rtl:ml-2":""}`,children:be[e]});H.defaultProps={gutter:!0};const{MenuItem:Re}=B,We=({title:e,translateKey:t,children:n,direction:r})=>{const{t:a}=le();return i.jsx(ge,{title:a(t)||e,placement:r==="rtl"?"left":"right",children:n})},ee=e=>{const{nav:t,onLinkClick:n,sideCollapsed:r,userAuthority:a}=e;return i.jsx(K,{userAuthority:a,authority:t.authority,children:i.jsx(Re,{eventKey:t.key,className:"mb-2",children:i.jsxs(z,{to:t.path,className:"flex items-center gap-2 h-full w-full",target:t.isExternalLink?"_blank":"",onClick:()=>n==null?void 0:n({key:t.key,title:t.title,path:t.path}),children:[i.jsx(H,{icon:t.icon}),!r&&i.jsx("span",{children:i.jsx(w,{i18nKey:t.translateKey,defaults:t.title})})]})},t.key)})},te=({nav:e,onLinkClick:t,sideCollapsed:n,userAuthority:r,direction:a})=>i.jsx(K,{userAuthority:r,authority:e.authority,children:n?i.jsx(We,{title:e.title,translateKey:e.translateKey,direction:a,children:i.jsx(ee,{nav:e,sideCollapsed:n,userAuthority:r,onLinkClick:t})}):i.jsx(ee,{nav:e,sideCollapsed:n,userAuthority:r,onLinkClick:t})}),{MenuItem:pe,MenuCollapse:Ye}=B,Ge=({nav:e,onLinkClick:t,userAuthority:n})=>i.jsx(K,{userAuthority:n,authority:e.authority,children:i.jsx(Ye,{label:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(H,{icon:e.icon}),i.jsx("span",{children:i.jsx(w,{i18nKey:e.translateKey,defaults:e.title})})]}),eventKey:e.key,expanded:!1,className:"mb-2",children:e.subMenu.map(r=>i.jsx(K,{userAuthority:n,authority:r.authority,children:i.jsx(pe,{eventKey:r.key,children:r.path?i.jsx(z,{className:"h-full w-full flex items-center",to:r.path,target:r.isExternalLink?"_blank":"",onClick:()=>t==null?void 0:t({key:r.key,title:r.title,path:r.path}),children:i.jsx("span",{children:i.jsx(w,{i18nKey:r.translateKey,defaults:r.title})})}):i.jsx("span",{children:i.jsx(w,{i18nKey:r.translateKey,defaults:r.title})})})},r.key))},e.key)}),Xe=({nav:e,onLinkClick:t,userAuthority:n,direction:r})=>{const a=i.jsx(pe,{eventKey:e.key,className:"mb-2",children:i.jsx(H,{icon:e.icon})},e.key);return i.jsx(K,{userAuthority:n,authority:e.authority,children:i.jsx(J,{trigger:"hover",renderTitle:a,placement:r==="rtl"?"middle-end-top":"middle-start-top",children:e.subMenu.map(s=>i.jsx(K,{userAuthority:n,authority:s.authority,children:i.jsx(J.Item,{eventKey:s.key,children:s.path?i.jsx(z,{className:"h-full w-full flex items-center",to:s.path,target:s.isExternalLink?"_blank":"",onClick:()=>t==null?void 0:t({key:s.key,title:s.title,path:s.path}),children:i.jsx("span",{children:i.jsx(w,{i18nKey:s.translateKey,defaults:s.title})})}):i.jsx("span",{children:i.jsx(w,{i18nKey:s.translateKey,defaults:s.title})})})},s.key))})})},ne=({sideCollapsed:e,...t})=>e?i.jsx(Xe,{...t}):i.jsx(Ge,{...t}),fe=(e,t)=>{if(!Array.isArray(e)&&e.key===t)return e;let n,r=!1;for(const a in e)if(a!=="icon"&&e.hasOwnProperty(a)&&typeof e[a]=="object"&&(He(e[a])&&e[a].subMenu.length>0&&e[a].subMenu.some(s=>s.key===t)&&(r=!0),n=fe(e[a],t),n))return r&&(n.parentKey=e[a].key),n;return n},me=(e,t)=>e.find(r=>r.key===t)?!0:e.some(r=>me(r.subMenu,t)),ze=(e,t)=>{let n={};return e.forEach(r=>{me([r],t)&&(n=r)}),n};function Je(e,t){const n=b.useMemo(()=>fe(e,t),[e,t]),r=b.useMemo(()=>ze(e,t),[e,t]);return{activedRoute:n,includedRouteTree:r}}const{MenuGroup:re}=B,ve=e=>{const{navMode:t=Z.navMode,collapsed:n,routeKey:r,navigationTree:a=[],userAuthority:s=[],onMenuItemClick:u,direction:f=Z.direction}=e,{t:y}=le(),[E,h]=b.useState([]),{activedRoute:o}=Je(a,r);b.useEffect(()=>{E.length===0&&(o!=null&&o.parentKey)&&h([o==null?void 0:o.parentKey])},[o==null?void 0:o.parentKey]);const g=()=>{u==null||u()},j=l=>{if(l.subMenu.length===0&&l.type===ke)return i.jsx(te,{nav:l,sideCollapsed:n,userAuthority:s,direction:f,onLinkClick:g},l.key);if(l.subMenu.length>0&&l.type===Ae)return i.jsx(ne,{nav:l,sideCollapsed:n,userAuthority:s,direction:f,onLinkClick:u},l.key);if(l.type===Ie){if(l.subMenu.length>0)return i.jsx(K,{userAuthority:s,authority:l.authority,children:i.jsx(re,{label:y(l.translateKey)||l.title,children:l.subMenu.map(C=>C.subMenu.length>0?i.jsx(ne,{nav:C,sideCollapsed:n,userAuthority:s,direction:f,onLinkClick:u},C.key):i.jsx(te,{nav:C,sideCollapsed:n,userAuthority:s,direction:f,onLinkClick:u},C.key))})},l.key);l.title}};return i.jsx(B,{className:"px-4 pb-4",variant:t,sideCollapsed:n,defaultActiveKeys:o!=null&&o.key?[o.key]:[],defaultExpandedKeys:E,children:a.map(l=>j(l))})};export{ve as V,Je as u};
