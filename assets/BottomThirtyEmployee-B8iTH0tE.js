import{r as l,bh as f,j as e,aZ as j,bo as u,bp as b,bq as x,br as a,bs as y,bt as t}from"./index-Dles2GGc.js";import"./SvgIcon-kVAzcj_I.js";import"./Views-BeAgtkwm.js";import{g as N}from"./DashboardMenuListItems-CbkiW9ka.js";import"./cloneDeep-DJN0yfLA.js";import"./useThemeClass-Bv4J3TKz.js";function _(){const[i,m]=l.useState([]),[h,n]=l.useState(!1),[d,o]=l.useState(null),p=f(),g=s=>{p(`/user/${s}`)},c=async()=>{var s;try{n(!0),o(null);const r=await N();m(((s=r==null?void 0:r.data)==null?void 0:s.users)||[])}catch(r){o(r.message||"Failed to fetch data")}finally{n(!1)}};return l.useEffect(()=>{c()},[]),h?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx(j,{loading:!0})}):d?e.jsx("div",{className:"mx-auto p-6 max-w-4xl",children:e.jsxs("div",{className:"bg-red-50 p-4 rounded-lg border border-red-200 text-red-700",children:["Error: ",d]})}):e.jsxs("div",{children:[e.jsxs("div",{className:"mb-8 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Bottom 30 Employees"}),e.jsx("p",{className:"text-gray-600",children:"Employees needing performance improvement"})]}),e.jsx("button",{onClick:c,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:"Refresh"})]}),i&&i.length>0?e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(u,{className:"w-full",children:[e.jsx(b,{className:"bg-gradient-to-r from-green-50 to-green-50",children:e.jsxs(x,{children:[e.jsx(a,{className:"px-6 py-4",children:"Rank"}),e.jsx(a,{className:"px-6 py-4",children:"Staff ID"}),e.jsx(a,{className:"px-6 py-4",children:"Employee Name"}),e.jsx(a,{className:"px-6 py-4",children:"Grade Level"}),e.jsx(a,{className:"px-6 py-4 text-right flex justify-end",children:"Actions"})]})}),e.jsx(y,{className:"divide-y divide-gray-100",children:i.map((s,r)=>e.jsxs(x,{className:"hover:bg-green-50/50",children:[e.jsx(t,{className:"px-6 py-4",children:r+1}),e.jsx(t,{className:"px-6 py-4 text-green-700 font-mono",children:s.staff_id}),e.jsx(t,{className:"px-6 py-4",children:s.name}),e.jsx(t,{className:"px-6 py-4",children:s.grade_level??"N/A"}),e.jsx(t,{className:"px-6 py-4 text-right",children:e.jsx("button",{onClick:()=>g(s.staff_id),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors inline-flex items-center",children:"View"})})]},s.staff_id))})]})})}):e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8 text-center",children:"No employees found"})]})}export{_ as default};
